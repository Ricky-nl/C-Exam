<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C Programming MCQ Exam</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
        }
        h1 {
            text-align: center;
        }
        .question {
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ccc;
        }
        .question h3 {
            margin-bottom: 10px;
        }
        .options {
            list-style-type: none;
            padding: 0;
        }
        .options li {
            margin-bottom: 5px;
        }
        .question.correct {
            border-color: green;
        }
        .question.incorrect {
            border-color: red;
        }
        #result {
            margin-top: 20px;
            font-weight: bold;
        }
        button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        .feedback {
            font-weight: bold;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>C Programming MCQ Exam</h1>
    <form id="examForm">

        <!-- Questions dynamically added here -->

        <button type="button" onclick="gradeExam()">Submit All</button>
    </form>

    <div id="result"></div>

    <script>
        // Expanded array of questions focusing on computational thinking and code analysis
        const questions = [
            { 
                question: "What will be the output of the following C code?\n\n```c\nint main() {\n    int a = 5, b = 10;\n    printf('%d', a + b);\n    return 0;\n}\n```", 
                options: [
                    "5",
                    "10",
                    "15",
                    "Error"
                ], 
                correct: 2 
            },
            { 
                question: "What does the following C code snippet do?\n\n```c\nint main() {\n    int a = 0;\n    if (a == 0) {\n        a = 1;\n    }\n    printf('%d', a);\n    return 0;\n}\n```", 
                options: [
                    "Prints 0",
                    "Prints 1",
                    "Causes an infinite loop",
                    "Results in a runtime error"
                ], 
                correct: 1 
            },
            { 
                question: "What will be the output of this C code?\n\n```c\nint main() {\n    int a = 5, b = 2;\n    printf('%d', a / b);\n    return 0;\n}\n```", 
                options: [
                    "2",
                    "2.5",
                    "2.00",
                    "Error"
                ], 
                correct: 0 
            },
            { 
                question: "What is the purpose of the 'break' statement in a C loop?\n\nConsider the following code:\n\n```c\nfor (int i = 0; i < 10; i++) {\n    if (i == 5) break;\n    printf('%d ', i);\n}\n```", 
                options: [
                    "Exits the loop when a certain condition is met",
                    "Continues to the next iteration of the loop",
                    "Prints '5' after every iteration",
                    "None of the above"
                ], 
                correct: 0 
            },
            { 
                question: "What does the following C code do?\n\n```c\nint main() {\n    int a = 10;\n    int *p = &a;\n    printf('%d', *p);\n    return 0;\n}\n```", 
                options: [
                    "Prints the memory address of a",
                    "Prints the value of a (10)",
                    "Prints the value of the pointer p",
                    "Results in a runtime error"
                ], 
                correct: 1 
            },
            { 
                question: "What is the output of this code?\n\n```c\nint main() {\n    int arr[] = {1, 2, 3, 4};\n    printf('%d', arr[2]);\n    return 0;\n}\n```", 
                options: [
                    "1",
                    "2",
                    "3",
                    "4"
                ], 
                correct: 2 
            }
        ];

        // Dynamically render questions
        const form = document.getElementById('examForm');

        questions.forEach((q, index) => {
            const div = document.createElement('div');
            div.classList.add('question');

            div.innerHTML = `
                <h3>${index + 1}. ${q.question}</h3>
                <ul class="options">
                    ${q.options.map((option, i) => `
                        <li>
                            <label>
                                <input type="radio" name="q${index + 1}" value="${i}">
                                ${option}
                            </label>
                        </li>
                    `).join('')}
                </ul>
                <button type="button" onclick="checkAnswer(${index})">Check Answer</button>
                <div id="feedback${index}" class="feedback"></div>
            `;

            form.insertBefore(div, form.lastElementChild);
        });

        // Check individual question answer
        function checkAnswer(index) {
            const selected = form.querySelector(`input[name="q${index + 1}"]:checked`);
            const feedbackDiv = document.getElementById(`feedback${index}`);
            const correctAnswer = questions[index].correct;

            if (selected) {
                if (parseInt(selected.value) === correctAnswer) {
                    feedbackDiv.textContent = "Correct!";
                    feedbackDiv.style.color = "green";
                } else {
                    feedbackDiv.textContent = "Incorrect. Try again!";
                    feedbackDiv.style.color = "red";
                }
            } else {
                feedbackDiv.textContent = "Please select an answer.";
                feedbackDiv.style.color = "orange";
            }
        }

        // Grade the exam
        function gradeExam() {
            let score = 0;
            const totalQuestions = questions.length;
            let unanswered = 0;

            questions.forEach((q, index) => {
                const selected = form.querySelector(`input[name="q${index + 1}"]:checked`);

                if (selected) {
                    if (parseInt(selected.value) === q.correct) {
                        score++;
                    }
                } else {
                    unanswered++;
                }
            });

            // Display results
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = `You scored ${score} out of ${totalQuestions}.`;

            if (unanswered > 0) {
                resultDiv.innerHTML += ` You have ${unanswered} unanswered questions.`;
            }
        }
    </script>
</body>
</html>
